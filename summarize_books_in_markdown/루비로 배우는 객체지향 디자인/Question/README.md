## Chapter 6: 상속을 이용해 새로운 행동 얻기

#### 🤔 상속이란?
- 상속이란 자동화된 메시지 전달시스템이다.
- 객체가 이해하지 못한 메시지를 어디로 전달해야 하는지를 정의한다.
- 특정 객체가 이해할 수 없는 메시지를 전달받았을 경우 그 객체는 이 메시지를 다른 객체에게 전달한다. (전달의 관계를 만드는 것이 상속)
- 메시지는 하위클래스에서 상위클래스로 전달
- 밀접히 연관된 타입들이 같은 행동을 공유하고 있지만 특정 관점에서는 다른 경우인 것은 상속을 통해서 해결 가능
- 이해하지 못하는 메시지가 상위클래스의 연쇄를 타고 올라간다는 사실은, 하위클래스의 상위클래스의 모든 행동을 갖고 있다는 점, 그리고 추가적인 행동을 더 가지고 있다.
- 상위클래스는 공통된 행동만 가지고 있다. 하위클래스는 각자의 특수한 행동만 가지고 있따.


#### 🤔 템플릿 메서드 패턴이란?
- 기본 구조를 상위클래스가 정의하고 상위클래스에서 메시지를 전송하여 하위클래스의 특수한 값을 얻는 기술을 템플릿 메서드 페턴이라고 부른다.

#### 🤔Super를 사용하면 안되는 이유
- 의존성이 생기는 데 이 이존성은 하위클래스가 super를 전송하면서 만들어진다.
- 하위클래스는 자신이 무엇을 해야 하는지 알아야 할 뿐 아니라, 자신의 상위클래스와 어떻게 소통해야 하는지도 알고 있어야 한다.
- 하위클래스에게 명시적으로 `super`를 전송하라고 강제한다.
- 훅을 사용하자.

#### 🤔 역할의 이해
- 역할을 사용하면 역할과 관련된 객체들 사이에 의존성이 생겨난다.
- 자기 자신의 행동은 자기 자신이 가지고 있어야 한다. (객체B에 대해 알고 싶을 때 꼭 객체A에 대해 알고 있는 건 문제가 있다.)

#### 🤔 메서드를 찾아 올라간다?
- 메서드를 찾는 과정은 메시지를 수신한 객체의 클래스에서 시작되는데 이 클래스가 메시지를 구현하고 있지 않다면 상위클래스를 찾아보고 연쇄를 타고 올라간다. 이 과정은 상속 괸계의 가장 위에 위치한 클래스에 이를 때까지 진행된다.

#### 🤔 리스코프 치환의 원칙
- 타입 시스템이 정상적으로 작동하려면 상위타입은 자신의 하위타입으로 치환될 수 있어야 한다.

#### 🤔 팩토리란?
- 다른 객체를 생산하는 객체를 팩토리라고 한다.
- 아래의 모듈은 나열된 배열 중 하나를 가지고 `Parts`를 생산한다. 이 모듈의 공개적인 책임은 `Parts`를 만드는 것이다.

```ruby
module PartsFactory
  def self.build(
    config,
    part_class = Part,
    parts_class = Parts
  )
    parts_class.new(
      config.collect {|part_config|
        part_class.new(
          name: part_config[0],
          description: part_config[1],
          needs_spare: part_config.fetch(2, true)
        )
      }
    ) 
  end
end

road_parts = PartsFactory.build(road_config)
```

#### 🤔 조합이란?
- 가지고 있는(has-a) 관계이다. (대학은 학부를 가지고 있다, 자전거는 부품을 가지고 있다.) 두 객체 사이의 가지고 있는 관계를 의미.
- 또한, 포함된 객체가 포함하는 객체로부터 독립적으로 존재하지 못하는 방식으로 서로 가지고 있는 관계를 맺고 있다. (대학이 없어지면 학부도 없어진다.)
- 집합은 포함된 객체가 독립적으로 존재할 수 있는 조합을 뜻한다. (학부는 교수를 가지고 있지만 대학이 폐지되고 학부가 폐지되도 교수는 여젼히 스스로 존재할 수 있다.)
- 조합을 사용하면 객체들 사이의 관계를 클래스의 상속 관계 속에 적어 놓은 필요가 없다. 객체들은 각자 독립적으로 존재한다. 그 대신 관계를 맺고 있는 객체를 알고 있어야 하며 직접 메시지를 전달해야 한다.
