---
sidebar_position: 8
---

# 🤔 코딩하는 동안

## 🍭 Topic 37. 파충류의 뇌에 귀 기울이기
프로그래머로서 경험이 늘어 갈수록 여러분의 뇌에는 암묵적인 지식이 켜켜이 쌓인다. 잘 되는 방법, 잘 안되는 방법, 오류 형태별로 가능한 원인 등 일하는 동안 보고 듣고 느끼는 모든  것이 쌓인다.   
어디에서 왔는지에 상관없이 모든 본능에는 공통점이 있다. 바로 말로 표현할 수 없다는 것, 생각이 아니라 느낌이라는 점이다. 본능이 반응한ㄴ다고 머리 위에 반짝이는 전구가 나타나지는 않는다. 오히려 그저 불안하고 초조해지기만 한다. 감당하기 어려운 일처럼 느껴질 수도 있다.   
이럴 때의 해결책은 일단 본능이 반응하고 있음을 인지하는 것이다. 그리고 왜 그런 느낌이 드는지 알아내야 한다.

### 🥕 백지의 공포
새로운 프로젝트를 시작하는 일도 두렵기는 마찬가지다. 심지어 이미 있는 프로젝트에 새로운 모듈을 추가하는 일도 그렇다. 많은 사람이 일을 시작하는 첫 발짝을 미루고 싶어 한다. 우리 생각에 이런 문제에는 두 가지 원인이 있는데, 한 가지 방법으로 둘다 해결할 수 있다.   

첫 번째 원인은 파충류의 뇌가 여러분에게 무언가 할 말이 있어서다. 인식의 지평 바로 밑에 도사리고 있는 모종의 의심이 있다. 이런 의심은 중요하다.   
여러분은 개발자로서 여러 가지를 시도해 보면서 잘 되는 것과 안되는 것들을 보아 왔다. 경험과 지혜를 축적해 온 것이다. 어떤 작업을 앞두고 마음 속에 의심이 계속 남아 있거나 왠지 꺼림칙하다면, 여러분의 경험이 여러분에게 말을 거는 중일지도 모른다. 그 느낌을 따라라. 어떤 것이 문제라고 정확하게 짚지는 못하더라도, 시간을 좀 주면 여러분의 의심은 아마도 좀 더 실체가 있고 대응책을 생각할 수 있는 무엇으로 구체화될 것이다. 직감이 여러분의 역량에 일조하도록 하라.   

다른 원인은 좀 더 진부한데, 여러분은 그저 실수할까 봐 두려운 것일 수 있다.   
합리적인 두려움이다. 우리 개발자들은 코드에 많은 것을 투자한다. 그래서 코드의 오류를 자신의 부족한 능력 때문이라고 받아들일 수도 있다. 아마 가면 증후군의 요소 또한 있을 것이다. 이 프로젝트는 자신의 능력 밖이라고 생각할 수도 있다. 우리는 이 길의 끝에 무엇이 기다리고 있는지 모른다. 어쩌면 너무 멀리까지 가버린 후에 사실은 길을 잃었다는 것을 인정하게 될지도 모른다.

### 🥕 자신과 싸우기
코딩이 진창에서 오르막길을 걷는 것처럼 느껴지는 날이 있다. 한 걸음을 떼려면 어마어마한 노력이 필요하고, 세 걸음 나아갔더니 두 걸음 미끄러지기도 한다.   

하지만 전문가라면 여러분은 계속해 나가야 하지 않을까? 안타깝지만 진짜로 여러분이 해야 하는 일은 정반대다.   
여러분의 코드가 무언가 말하려는 것이다. 지금 하는 작업이 필요 이사으로 힘들다고 말이다. 어쩌면 구조나 설계가 틀렸을 수도 있고, 엉뚱한 문제를 붙들고 있을 수도 있다. 이유가 무엇이든 코드가 보내는 피드백을 파충류의 뇌가 느끼고 있다. 그래서 여러분의 주의를 끌기 위해 필사적으로 노력하는 것이다.

### 🥕 파충류와 이야기하는 법
여러분의 본능, 여러분의 무의식, 파충류의 뇌에게 귀 기울이고 또 기울이기 바란다. 비법은 언제나 동일하다.

> **Tip 61. 여러분 내면의 파충류에게 귀 기울여라.**

일단, 하고 있는 일을 멈춰라. 여러분의 뇌가 정리를 좀 할 수 있도록 약간의 시간과 공간을 확보라라. 코드에 대해 생각하지 말고 키보드에서 떨어져서 잠깐 머리를 비운 채로 할 수 있는 일을 하라. 생각이 저절로 여러분의 뇌 층층이 스며들도록 놔둬라. 억지로 쑤셔넣을 수는 없다.   

이 방법이 잘 안되면 문제를 표면으로 끄집어내 보라. 작성하는 코드에 대한 그림을 그려 보라. 동료에게 설명해 보라. 그리고 여러분이 어려움을 겪는 부분을 더 잘 처리할 수 있는 부위가 있는지 보라. 우리 둘 중 하나가 이렇게 다른 사람에게 문제를 설명하다가 갑자기 대화가 중단된 적은 그 수를 헤아릴 수 없을 만큼 많다.   

하지만 여러분이 이런 방법들을 시도해 보았는데도 여전히 막혀 있을 수도 있다. 행동해야 할 시간이다. 여러분의 뇌에 여러분이 하려는 일은 별 문제가 없다고 알려줘야 한다. 바로 프로토타이핑을 하면 된다.

### 🥕 놀이 시간이다!
빈 스크린을 마주하고 있다면 프로젝트에서 시도해 보고 싶은 특정한 측면을 찾아보라. 새로운 프레임워크를 사용하고 있다면 데이터 바인딩이 어떻게 일어나는지 보고 싶을 수 있다. 아니면 새로운 알고리즘이 특수한 상황에서는 어떻게 되는지 고찰해 보고 싶을 수 있다.   

이미 존재하는 코드 위에서 작업하고 있어서 기존 코드 때문에 문제 해결이 여의치 않다면, 기존 코드를 잠시 다른 곳으로 밀어 두고 비슷한 것을 대신 프로토타이핑으로 만들어라.

1. 포스트잇에 "프로토타이핑 중"이라고 써서 모니터 옆에 붙여라.
2. 프로토타이핑은 원래 실패한다고 자신에게 상기시켜라. 실패하지 않더라도 프로토타이핑은 버리는 것이라는 점도 함께 상기시켜야 한다. 프로토타이핑으로 손해 볼 일은 없다.
3. 텅 빈 에디터 화면에 여러분이 배우고 싶은 것 혹은 하고 싶은 것을 한 문장의 주석으로 표현해 보라.
4. 코딩을 시작하라.

의심이 들기 시작하면 포스트잇을 보라. 꺼림칙했던 느낌이 코딩 도중에 갑자기 명확한 문제로 구체화되면 즉각 해결하라. 실혐이 끝마쳤는데도 여전히 불안한 마음이 들면 다시 처음부터 시작하라. 첫 단계는 산책과 수다, 그리고 휴식이다.   

### 🥕 "여러분"의 코드뿐이 아니다
다른 사람의 코드를 기계적으로 읽으면서 중요해 보이는 대목은 메모해 가며 묵묵히 시간을 투자할 수도 있다. 따분한 일이기는 하지만 가능한 일이다.    
아니면 실험을 해 볼 수도 있다. 처리 방식이 이상해 보이는 부분이 눈에 띄면 적어 놓아라. 계쏙 작업하면서 패턴을 찾아보라. 만약 그런 식으로 코드를 작성해야만 했던 원인을 찾아낼 수 있다면 코드를 이해하는 일이 훨씬 더 쉬워질지도 모른다. 다른 사람들이 은연중에 적용한 패턴을 여러분은 의식적으로 적용할 수도 있다. 그 과정에서 여러분이 새로운 것을 배울 수도 있다.

### 🥕 코드뿐이 아니다
직감에 귀 기울이는 방법은 계속 갈고닦아야 할 중요한 기술이다. 가끔은 설계가 왠지 이상하게 느껴질 수도 있고, 어떤 요구 사항이 마음을 불편하게 할 수도 있다. 하던 일을 멈추고 그 느낌을 분석하라. 여러분의 목소리에 귀를 기울여 주는 환경에 있다면 적극적으로 표현하라. 탐험하라. 어두운 출구에 무언가가 숨어있을 것이다.   
본능에 귀를 기울이고 문제가 여러분 앞에 튀어나오기 전에 미리 대처하라.

## 🍭 Topic 38. 우연에 맡기는 프로그래밍
개발자인 우리는 지뢰밭에서 일한다. 하루에도 수백 개게 넘는 함정이 우리가 빠지기를 기다리고 있다. 우리는 우연에 맡기는 프로그래밍, 곧 행운과 우연한 성공에 의존하는 프로그래밍을 하지 않아야 한다. 대신 "의도적으로 프로그래밍"해야 한다.

### 🥕 우연에 맡기는 프로그래밍 하기
프레드라는 프로그래머에게 할 일이 하나 생겼다고 해 보자. 프레드는 키보드를 두들겨 코드를 약간 작성한다. 시험 삼아 돌려보니 잘 돌아가는 것 같다. 코드를 조금 더 덧붙이고, 또 돌려본다. 이런식으로 몇 주 동안 계속 코딩을 하는데 갑자기 프로그램이 잘 돌아가지 않는다. 몇 시간 동안 고치려고 노력했지만 프레드는 글도 원인을 모른다.   

왜 코드가 망가졌는지 프레드가 모르는 까닭은 **애초에 코드가 왜 잘 돌아가는지도 몰랐기 때문이다.** 프레드가 제한적으로 "테스트"를 했을 때는 코드가 잘 돌아가는 것처럼 보였지만, 그것은 단지 그때 운이 좋았을 뿐이다.

#### 구현에서 생기는 우연
단순히 코드가 지금 작성된 방식이 그렇기 때문에 생기는 우연한 일들이 있다. 이런 우연에 기대다 보면 결국 문서화되지 않은 에러나 예외적인 경우의 동작에 의존하게 되고 만다.   

잘 작동하는 데 괜히 건드려서 일을 만들 필요가 있을까? 우리가 보기에는 그래야 할 이유가 몇 가지 있다.

- 정말로 제대로 돌아가는 게 아닐지도 모른다. 그저 돌아가는 듯이 보이는 것일 수도 있다.
- 여러분이 의존하는 조건이 단지 우연인 경우도 있다. 회면 해상도가 다른 경우나 CPU 코어가 더 많은 경우 등 다른 상황에서는 이상하게 작동할지도 모른다.
- 문서화되지 않은 동작은 라이브러리의 다음 릴리즈에서 변경될 수도 있다.
- 불필요한 추가 호출은 코드를 더 느리게 만든다.
- 추가로 호출한 루틴에 새로운 버그가 생길 수도 있다.

다른 사람이 호출할 코드를 작성하고 있다면 모듈화를 잘하는 것, 그리고 잘 문서화한 적은 수의 인터페이스 아래에 구현을 숨기는 것 같은 기본 원칙들이 모두 도움이 된다.   

다른 루틴을 호출할 떄도 문서화된 동작에만 의존하라. 어떤 이유로든 그럴 수 없다면 추측을 문서로 상세히 남겨라.

#### 유령 패턴
로그 파일에 요청 1,000개당 한 번꼴로 간헐적으로 발생하는 오류가 남아있다면 분석하기 어려운 경합 조건이 있을 수도 있지만 그냥 오래된 버그일 수도 있다. 테스트가 여러분의 장비에서는 통과했던 것 같은데 서버에서는 통과하지 못하는 이유는 두 환경의 차이 떄문일 수도 있지만 어쩌면 그저 우연일 수도 있다.   

가정하리 말라. 증명하라.

#### 상황에서 생기는 우연
여러분은 사용자의 언어가 언제나 한국어이거나 영어일 것이라고 가정하고 있지는 않는가? 언제나 사용자가 글을 읽을 수 있다고 생각하는가? 확실한 것이 아닌데도 의존하고 있는 것은 또 무엇이 있을까?   
인터넷 검색으로 찾은 첫 번째 답에서 코드를 복사해 올 때 여러분과 동일한 상황이라고 확신하는가? 아니면 의미는 신경 쓰지 않고 그냥 따라 하는 화물 숭배 코드를 만들고 있나?   
잘 되는 듯한 답을 찾는 것과 올바른 답을 찾는 것은 다르다.

> **Tip 62. 우연에 맡기는 프로그래밍을 하지 말라.**

#### 암묵적인 가정
우연은 여러 단계에서 우리를 오도할 수 있다. 요구 사항을 만들어내는 단계부터 테스틍에 이르기까지 이 모든 단계에서 말이다. 테스트가 특히 가짜 원인과 우연한 결과로 가득 찬 영역이다. 가정하지 말라. 증명하라   

확고한 사실에 근거하지 않은 가정은 어떤 프로젝트에서든 재앙의 근원이 된다.

### 🥕 의도적으로 프로그래밍하기
- 언제나 여러분이 지금 무엇을 하고 있는지 알아야 한다.
- 더 경험이 적은 프로그래머에게 코드를 상세히 설명할 수 있는가? 그렇지 않다면 아마 우연에 기대고 있는 것일 터이다.
- 자신도 잘 모르는 코드를 만들지 말라.
- 계획을 세우고 그것을 바탕으로 진행하라.
- 신뢰할 수 있는 것에만 기대라. 가정에 의존하지 말라. 무언가를 신뢰할 수 있을지 판단하기 어렵다면 일단 최악의 상황을 가정하라.
- 가정을 기록으로 남겨라.
- 코드뿐 아니라 여러분이 세운 가정도 테스트해 보아야 한다. 어떤 일이든 추측만 하지 말고 실제로 시험해 보라. 여러분의 가정을 시험할 수 있는 단정문을 작성하라.
- 노력을 기울일 대상의 우선순위를 정하라. 중요한 것에 먼저 시간을 투자하라. 중요한 부분이 가장 어려운 부분이기도 한 경우가 많다.
- 과거의 노예가 되지 말라. 기존 코드가 앞으로 짤 코드를 지배하도록 놓아 두지 말라. 더는 적절한 코드가 아니다 싶으면 어떤 코드라도 교체할 수 있다. 언제나 리팩터링할 자세가 되어있어야 한다. 이런 결정이 프로젝트 일정에 영향을 줄지도 모른다. 그러니 필요한 변경을 하지 **않을** 경우의 비용보다 일정이 늦어져서 발생하는 비용이 적어야 한다는 것을 염두에 두어라.
